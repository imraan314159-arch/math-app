<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Math Example with Navigation</title>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<link rel="stylesheet" href="style.css" />
</head>
<body>

<!-- Side navigation -->
<div class="sidebar">
  <h1 align = "center" class="logo">Math App</h1>
  <nav>
    <a href="index.html">Home</a>
    <a href="#" data-tab="integers">Integers</a>
    <a href="distributivity.html" class="active">Distributivity</a>
    <a href="#" data-tab="exponents">Exponents</a>
    <a href="#" data-tab="factorization">Factorization</a>
    <a href="#" data-tab="graphs">Graphs</a>
    <a href="#" data-tab="patterns">Patterns</a>
    <a href="profile.html">Profile</a>
  </nav>
  <button class="logout-btn" id="logout-btn">Logout</button>
</div>

<!-- Main content -->
<div class="main">
  <header>
    <h1> Binomial Squared </h1>
  </header>
  <div class="topnav" id="subtopics-nav">
    <a href="distributivity_1_monomial_x_monomial.html">Monomial × Monomial</a>
    <a href="distributivity_2_monomial_x_binomial.html">Monomial × Binomial</a>
    <a href="distributivity_3_binomial_x_binomial.html">Binomial × Binomial</a>
    <a href="#" class="active" data-subtopic="distributivity_4_binomial_squared.html">Binomial Squared</a>
    <a href="distributivity_5_binomial_coefficient.html">Binomial Conjugated Pairs</a>
    <a href="distributivity_6_binomial_conjugated.html">Binomial Coefficient</a>
  </div>

  <!-- Content below topnav -->
  <div class="worked-example-container">
    <h1><u>Introduction</u></h1>
    <p> 
      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. 
    </p>

    <h2><u>Video Explanation</u></h2>
    <div class="video-container">
      <video controls width="100%" style="max-width:600px;">
        <source src="https://storage.googleapis.com/middle_school/1_Integers_Same_signs.mp4" type="video/mp4" />
      </video>
    </div>

    <h2><u>Worked Examples</u></h2>
    <div id="questionDisplay"></div>
    <div class="button-group">
      <button id="nextLineBtn">Press Next</button>
      <button id="nextQuestionBtn">New Question</button>
    </div>
  </div>
</div>

<script>
  const questions = [
    // question 1
    [
      ["\\((\\textcolor{red}{x} \\; \\textcolor{blue}{-1})^2\\)", "Write down the brackets twice"],
      ["\\((\\textcolor{red}{x} \\; \\textcolor{blue}{-1})(\\textcolor{green}{x - 1})\\)", "Now multiply each term of the first bracket with the second bracket"],
      ["\\(\\textcolor{red}{x}(\\textcolor{green}{x - 1})\\)", "Multiply the first term (red) with the second bracket (green)"],
      ["\\(\\textcolor{red}{x^2 - x}\\)", "After multiplying the first term"],
      ["\\(\\textcolor{blue}{-1}(\\textcolor{green}{x - 1})\\)", "Multiply the second term (blue) with the second bracket (green)"],
      ["\\(\\textcolor{blue}{-x + 1}\\)", "After multiplying the second term"],
      ["\\(\\textcolor{red}{x^2 - x} \\; \\textcolor{blue}{- x + 1}\\)", "Combine the results"],
      ["\\(x^2 - 2x + 1\\)", "Simplify by adding like terms"]
    ],
    // question 2
    [
      ["\\((\\textcolor{red}{x} \\; \\textcolor{blue}{-2})^2\\)", "Write down the brackets twice"],
      ["\\((\\textcolor{red}{x} \\; \\textcolor{blue}{-2})(\\textcolor{green}{x - 2  })\\)", "Now multiply each term of the first bracket with the second bracket"],
      ["\\(\\textcolor{red}{x}(\\textcolor{green}{x - 2})\\)", "Multiply the first term (red) with the second bracket (green)"],
      ["\\(\\textcolor{red}{x^2 - 2x}\\)", "After multiplying the first term"],
      ["\\(\\textcolor{blue}{-2}(\\textcolor{green}{x - 2})\\)", "Multiply the second term (blue) with the second bracket (green)"],
      ["\\(\\textcolor{blue}{-2x + 4}\\)", "After multiplying the second term"],
      ["\\(\\textcolor{red}{x^2 - 2x} \\; \\textcolor{blue}{- 2x + 4}\\)", "Combine the results"],
      ["\\(x^2 - 4x + 4\\)", "Simplify by adding like terms"]
    ],
  ];

  let currentQuestionIndex = 0;  // start at first question
  let currentStepIndex = -1;     // before first step

  const questionDisplay = document.getElementById("questionDisplay");
  const nextLineBtn = document.getElementById("nextLineBtn");
  const nextQuestionBtn = document.getElementById('nextQuestionBtn');

  function loadNextStep() {
    currentStepIndex++;
    const steps = questions[currentQuestionIndex];
    if (currentStepIndex < steps.length) {
      const step = steps[currentStepIndex];
      const newStep = document.createElement("div");
      newStep.classList.add("step");
      newStep.innerHTML = `
        <div class="equation">${step[0]}</div>
        <div class="explanation">${step[1]}</div>
      `;
      questionDisplay.appendChild(newStep);
      MathJax.typesetPromise([newStep]).then(() => {
        questionDisplay.scrollTop = questionDisplay.scrollHeight;
      });
      if (currentStepIndex === steps.length - 1) {
        nextLineBtn.disabled = true;
      }
    }
  }

  function loadNextQuestion() {
    currentQuestionIndex++;
    if (currentQuestionIndex >= questions.length) {
      alert("No more questions!");
      nextQuestionBtn.disabled = true;
      nextLineBtn.disabled = true;
      return;
    }
    currentStepIndex = -1;
    questionDisplay.innerHTML = "";
    nextLineBtn.disabled = false;
    loadNextStep();
  }

  nextLineBtn.addEventListener("click", loadNextStep);
  nextQuestionBtn.addEventListener("click", loadNextQuestion);

  // Start with first step
  loadNextStep();
</script>

</body>
</html>
